{% extends 'base.html.twig' %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Add User</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
      <form id="add-user-form" >
            <div class="form-group">
            <label for="firstname">First Name</label>
            <input type="text" class="form-control" id="firstname" placeholder="Enter First Name">
            </div>
         <div class="form-group">
        <label for="firstname">Last Name</label>
        <input type="text" class="form-control" id="lastname" placeholder="Enter Last Name"> 
      </div>
      <div class="form-group">
        <label for="firstname">CIN</label>
        <input type="text" class="form-control" id="cin" placeholder="Enter CIN">
      </div>
      <div class="form-group">
        <label for="firstname">Address</label>
        <input type="text" class="form-control" id="address" placeholder="Enter Address">
      </div>
      <div class="form-group">
        <label for="firstname">Clubid</label>
        <input type="text" class="form-control" id="clubid" placeholder="Enter Clubid">
      </div>
      <br/>
      <div class="form-group">
        <button type="submit" class="btn btn-info" aria-label="Close">Submit</button>
      </div> 
      </form>   
    </div> 
      </div>
    </div>
  </div>
</div>

<script>
    $(document).ready(function(){
        $('#add-user-form').on('submit', function(e){
            e.preventDefault();
            var firstname = $('#firstname').val();
            var lastname = $('#lastname').val();
            var cin = $('#cin').val();
            var address = $('#address').val();
            var clubid = $('#clubid').val();
            $.ajax({
                url: '/users/add',
                type: 'POST',
                data: {
                    firstname: firstname,
                    lastname: lastname,
                    cin: cin,
                    address: address,
                    clubid: clubid
                },
                success: function(data){
                    
                   // hide the modal
        $('#my-modal').modal('hide');

        // reload the page
        location.reload();

                    

                }
            });
        });
    });
</script>


{% endblock %}